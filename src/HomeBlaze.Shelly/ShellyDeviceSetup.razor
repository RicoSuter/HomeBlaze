@using Microsoft.Extensions.DependencyInjection
@using Microsoft.Extensions.Logging
@using System.Threading

@using MudBlazor

@using HomeBlaze.Abstractions
@using HomeBlaze.Abstractions.Presentation
@using HomeBlaze.Components
@using HomeBlaze.Abstractions.Services

@using Namotion.Shelly

@inherits ThingSetupComponent<ShellyDevice>

<MudForm @bind-IsValid="_isFormValid">
    <MudTextField @bind-Value="@Thing.IpAddress" Label="IP Address" Required="true" />
    <MudTextField @bind-Value="@Thing.RefreshInterval" Label="Refresh Interval (Milliseconds)" Required="true" />
</MudForm>

@code {
    private bool _isFormValid;

    public override bool IsValid => _isFormValid;

    public override Task<bool> UpdateEditedThingAsync(CancellationToken cancellationToken)
    {
        EditedThing!.Reset();
        return base.UpdateEditedThingAsync(cancellationToken);
    }
}
