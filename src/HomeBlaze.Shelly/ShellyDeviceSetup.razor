@using HomeBlaze.Abstractions.Attributes
@using Microsoft.Extensions.DependencyInjection
@using Microsoft.Extensions.Logging
@using System.Threading

@using MudBlazor

@using HomeBlaze.Abstractions
@using HomeBlaze.Abstractions.Presentation
@using HomeBlaze.Components
@using HomeBlaze.Abstractions.Services

@using Namotion.Shelly

@attribute [ThingSetup(typeof(ShellyDevice), CanEdit = true)]

@inherits ThingSetupComponent<ShellyDevice>

<MudForm @ref="Form">
    <MudTextField @bind-Value="@Thing.IpAddress" Label="IP Address" Required="true" />
    <MudTextField @bind-Value="@Thing.RefreshInterval" Label="Refresh Interval (Milliseconds)" Required="true" />
</MudForm>

@code {
    public override Task<bool> UpdateEditedThingAsync(CancellationToken cancellationToken)
    {
        EditedThing?.Reset();
        return base.UpdateEditedThingAsync(cancellationToken);
    }
}
