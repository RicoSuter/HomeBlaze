@using HomeBlaze.Abstractions.Attributes
@using HomeBlaze.Components;
@using HomeBlaze.Components.Editors;
@using HomeBlaze.Components.Inputs
@using MudBlazor

@attribute [ThingSetup(typeof(DynamicAggregatorThing), CanEdit = true)]
@inherits ThingSetupComponent<DynamicAggregatorThing>

<MudForm @ref="Form">
    <MudTextField Label="Title" @bind-Value="@Thing.Title" Required="true" />

    <br />
    <ThingInterfaceSelect Label="Interface of collected Things" @bind-InterfaceName="@Thing.InterfaceName" Required="true" />
    <ThingInterfacePropertySelect Label="Property to aggregate" Required="true"
                                  @bind-PropertyName="@Thing.PropertyName" InterfaceName="@Thing.InterfaceName" />
    <br />

    <MudSelect Label="Aggregation" @bind-Value="Thing.Aggregation">
        @foreach (AggregationType item in Enum.GetValues(typeof(AggregationType)))
        {
            <MudSelectItem Value="@item">@item</MudSelectItem>
        }
    </MudSelect>
</MudForm>
